{% extends 'shopping/base.html' %}
{% load static %}

{% block content %}
    <section class="section-conten padding-y bg">
        {% include "shopping/includes/alerts.html" %}
        <div class="container">
            <div class="row">
                {% include "shopping/includes/dashboard_sidebar.html" %}
                <main class="col-md-9">
                    <article class="card">
                        <header class="card-header">
                            <strong class="d-inline-block mr-3">Change your password</strong>
                        </header>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <form action="{% url 'change_password' %}" method="POST">
                                        {% csrf_token %}
                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                <label>Current Password</label>
                                                <div class="form-label-group input-group">
                                                    <input type="password" name="current_password" placeholder="Current Password" class="form-control password-field" required>
                                                    <div class="input-group-append">
                                                        <span class="input-group-text">
                                                            <i class="icon fa fa-eye-slash"></i>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <label>Create New Password</label>
                                                <div class="form-label-group input-group">
                                                    <input type="password" name="new_password" placeholder="Create New Password" class="form-control password-field" required>
                                                    <div class="input-group-append">
                                                        <span class="input-group-text">
                                                            <i class="icon fa fa-eye-slash"></i>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <label>Confirm New Password</label>
                                                <div class="form-label-group input-group">
                                                    <input type="password" name="confirm_password" placeholder="Confirm New Password" class="form-control password-field" required>
                                                    <div class="input-group-append">
                                                        <span class="input-group-text">
                                                            <i class="icon fa fa-eye-slash"></i>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <input type="submit" class="btn btn-primary" value="Change Password">
                                    </form>
                                </div>
                            </div>
                        </div>
                    </article> 
                </main>
            </div> 
        </div>
    </section>

    <script type="text/javascript">
        $(document).ready(function() {
            $(".icon").on('mouseenter', function() {
                $(this).closest('.input-group').find('.password-field').attr("type", "text");
                $(this).removeClass('fa-eye-slash').addClass('fa-eye');
            }).on('mouseleave', function() {
                $(this).closest('.input-group').find('.password-field').attr("type", "password");
                $(this).removeClass('fa-eye').addClass('fa-eye-slash');
            });
        });
    </script>
{% endblock %}